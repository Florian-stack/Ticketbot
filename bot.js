function _0x35a8(_0x14345a,_0x2aaaf2){const _0x463a7a=_0x463a();return _0x35a8=function(_0x35a8ac,_0x6d9f34){_0x35a8ac=_0x35a8ac-0x1b6;let _0x515f1e=_0x463a7a[_0x35a8ac];return _0x515f1e;},_0x35a8(_0x14345a,_0x2aaaf2);}const _0x342681=_0x35a8;(function(_0x208a19,_0x285b01){const _0x5e577a=_0x35a8,_0x509101=_0x208a19();while(!![]){try{const _0x4353dc=-parseInt(_0x5e577a(0x22b))/0x1*(-parseInt(_0x5e577a(0x1ed))/0x2)+-parseInt(_0x5e577a(0x242))/0x3+parseInt(_0x5e577a(0x205))/0x4+parseInt(_0x5e577a(0x1e9))/0x5+-parseInt(_0x5e577a(0x23e))/0x6+-parseInt(_0x5e577a(0x221))/0x7*(parseInt(_0x5e577a(0x21f))/0x8)+parseInt(_0x5e577a(0x1b6))/0x9;if(_0x4353dc===_0x285b01)break;else _0x509101['push'](_0x509101['shift']());}catch(_0x3910a4){_0x509101['push'](_0x509101['shift']());}}}(_0x463a,0x328f1));const {Client,GatewayIntentBits,EmbedBuilder,ActionRowBuilder,ButtonBuilder,ButtonStyle,StringSelectMenuBuilder,PermissionFlagsBits}=require(_0x342681(0x212)),{REST}=require(_0x342681(0x20e)),{Routes}=require('discord-api-types/v9'),client=new Client({'intents':[GatewayIntentBits[_0x342681(0x206)],GatewayIntentBits[_0x342681(0x1cc)],GatewayIntentBits['GuildMembers'],GatewayIntentBits[_0x342681(0x1d0)]]}),config={'token':_0x342681(0x1e2),'clientId':_0x342681(0x215),'guildId':_0x342681(0x1b9),'ticketRoles':{'support':[_0x342681(0x1e1),_0x342681(0x1f9)],'team':'1351635282146889811','fraction':[_0x342681(0x1e8),_0x342681(0x1e5)],'highteam':_0x342681(0x253)},'logChannelId':_0x342681(0x1ce),'ticketCategories':{'support':_0x342681(0x1f8),'team':_0x342681(0x1f8),'fraction':_0x342681(0x1f8),'highteam':_0x342681(0x1f8)}},ticketChannels=new Map(),ticketTypes={'support':{'emoji':_0x342681(0x247),'name':_0x342681(0x207)},'team':{'emoji':'üë•','name':_0x342681(0x20d)},'fraction':{'emoji':'üöî','name':_0x342681(0x1f7)},'highteam':{'emoji':'üëë','name':'High\x20Team'}};client['on']('ready',()=>{const _0x56559d=_0x342681;console['log']('Eingeloggt\x20als\x20'+client[_0x56559d(0x1da)][_0x56559d(0x20f)]+'!'),registerCommands();});async function registerCommands(){const _0x467a9f=_0x342681,_0x3401e2=new REST({'version':'9'})[_0x467a9f(0x243)](config['token']),_0x2e471a=[{'name':_0x467a9f(0x1dc),'description':'Erstellt\x20das\x20Ticket\x20Panel'},{'name':_0x467a9f(0x1d2),'description':_0x467a9f(0x1fa)}];try{await _0x3401e2['put'](Routes[_0x467a9f(0x1cb)](config['clientId'],config[_0x467a9f(0x22c)]),{'body':_0x2e471a}),console[_0x467a9f(0x21c)]('Commands\x20registriert!');}catch(_0x23709c){console[_0x467a9f(0x255)](_0x467a9f(0x1d8),_0x23709c);}}client['on'](_0x342681(0x203),async _0x5b4ec5=>{const _0x6e68b0=_0x342681;try{_0x5b4ec5[_0x6e68b0(0x1fe)]()&&_0x5b4ec5['commandName']===_0x6e68b0(0x1dc)&&await createTicketPanel(_0x5b4ec5);_0x5b4ec5[_0x6e68b0(0x1fe)]()&&_0x5b4ec5[_0x6e68b0(0x238)]===_0x6e68b0(0x1d2)&&await handleCloseAllTickets(_0x5b4ec5);_0x5b4ec5[_0x6e68b0(0x23f)]()&&_0x5b4ec5[_0x6e68b0(0x251)]==='ticket_type'&&await handleTicketCreation(_0x5b4ec5);if(_0x5b4ec5['isButton']())switch(_0x5b4ec5[_0x6e68b0(0x251)]){case _0x6e68b0(0x241):await handleTicketClose(_0x5b4ec5);break;case _0x6e68b0(0x1fd):await handleTicketClaim(_0x5b4ec5);break;}}catch(_0x44da1c){console[_0x6e68b0(0x255)](_0x6e68b0(0x202),_0x44da1c);}});async function sendLog(_0xce977d,_0x21e13e,_0x380b22){const _0x147008=_0x342681,_0x246341=client[_0x147008(0x1de)][_0x147008(0x1d5)]['get'](config[_0x147008(0x228)]);if(!_0x246341)return console['error'](_0x147008(0x250));const _0x1cdcb5=new EmbedBuilder()[_0x147008(0x1ea)](_0x147008(0x217)+_0xce977d)[_0x147008(0x240)](config[_0x147008(0x222)][_0x147008(0x236)][_0xce977d]||0x2f3136)[_0x147008(0x1e0)](_0x380b22)[_0x147008(0x1f5)]({'name':'Benutzer','value':_0x21e13e[_0x147008(0x1c2)](),'inline':!![]},{'name':_0x147008(0x254),'value':new Date()[_0x147008(0x1d1)](),'inline':!![]})[_0x147008(0x20b)]({'text':'Dortmund\x20City\x20Ticket\x20System'});await _0x246341[_0x147008(0x237)]({'embeds':[_0x1cdcb5]});}async function createTicketPanel(_0x3e0001){const _0xbce31c=_0x342681;if(!_0x3e0001[_0xbce31c(0x20a)][_0xbce31c(0x1e6)](PermissionFlagsBits['Administrator']))return _0x3e0001[_0xbce31c(0x252)]({'content':config[_0xbce31c(0x1d4)][_0xbce31c(0x220)],'ephemeral':!![]});const _0x583ea7=new EmbedBuilder()[_0xbce31c(0x1ea)](config[_0xbce31c(0x22d)][_0xbce31c(0x21b)][_0xbce31c(0x223)])[_0xbce31c(0x1e0)](config[_0xbce31c(0x22d)][_0xbce31c(0x21b)][_0xbce31c(0x1f3)])[_0xbce31c(0x240)](config[_0xbce31c(0x22d)][_0xbce31c(0x21b)][_0xbce31c(0x1f0)])[_0xbce31c(0x225)](config[_0xbce31c(0x22d)]['panel'][_0xbce31c(0x213)])[_0xbce31c(0x20b)]({'text':config['embeds'][_0xbce31c(0x21b)][_0xbce31c(0x1ec)]}),_0x49e8e6=new StringSelectMenuBuilder()[_0xbce31c(0x1e4)](_0xbce31c(0x1e7))[_0xbce31c(0x1ee)](_0xbce31c(0x1ba))[_0xbce31c(0x1d9)](Object[_0xbce31c(0x23c)](config[_0xbce31c(0x210)])[_0xbce31c(0x214)](([_0x53547d,_0x5153de])=>({'label':_0x5153de['name'],'emoji':_0x5153de[_0xbce31c(0x1ff)],'value':_0x53547d})));await _0x3e0001['channel'][_0xbce31c(0x237)]({'embeds':[_0x583ea7],'components':[new ActionRowBuilder()[_0xbce31c(0x232)](_0x49e8e6)]}),await _0x3e0001[_0xbce31c(0x252)]({'content':'‚úÖ\x20Panel\x20erfolgreich\x20erstellt!','ephemeral':!![]});}async function handleTicketCreation(_0x2fbde9){const _0x2cc4ee=_0x342681,_0x12188a=_0x2fbde9[_0x2cc4ee(0x230)][0x0],{emoji:_0x71713d,name:_0x1e229f}=ticketTypes[_0x12188a],_0x30cba8=Array[_0x2cc4ee(0x1c0)](config['ticketRoles'][_0x12188a])?config[_0x2cc4ee(0x224)][_0x12188a]:[config['ticketRoles'][_0x12188a]];try{const _0x16208b=_0x30cba8['filter'](_0x42689b=>!_0x2fbde9[_0x2cc4ee(0x1c7)]['roles'][_0x2cc4ee(0x1d5)][_0x2cc4ee(0x1e6)](_0x42689b));if(_0x16208b[_0x2cc4ee(0x218)]>0x0)throw new Error('Ung√ºltige\x20Rollen-IDs:\x20'+_0x16208b[_0x2cc4ee(0x204)](',\x20'));if(ticketChannels['has'](_0x2fbde9[_0x2cc4ee(0x1da)]['id']))return _0x2fbde9['reply']({'content':_0x2cc4ee(0x249),'ephemeral':!![]});const _0x1eaf7d=_0x2fbde9['user'][_0x2cc4ee(0x1d6)][_0x2cc4ee(0x1b7)](/[^a-z0-9]/gi,'-')[_0x2cc4ee(0x22f)](0x0,0x5a),_0x4bd66a=[{'id':_0x2fbde9[_0x2cc4ee(0x1c7)]['id'],'deny':[PermissionFlagsBits[_0x2cc4ee(0x1cd)]]},{'id':_0x2fbde9[_0x2cc4ee(0x1da)]['id'],'allow':[PermissionFlagsBits[_0x2cc4ee(0x1cd)],PermissionFlagsBits[_0x2cc4ee(0x22a)]]},..._0x30cba8[_0x2cc4ee(0x214)](_0x2b6e25=>({'id':_0x2b6e25,'allow':[PermissionFlagsBits[_0x2cc4ee(0x1cd)],PermissionFlagsBits[_0x2cc4ee(0x22a)],PermissionFlagsBits[_0x2cc4ee(0x233)]]}))],_0x24b38f=config[_0x2cc4ee(0x210)][_0x12188a],_0x421501=await _0x2fbde9[_0x2cc4ee(0x1c7)][_0x2cc4ee(0x1de)][_0x2cc4ee(0x219)]({'name':_0x24b38f[_0x2cc4ee(0x246)][_0x2cc4ee(0x245)]()+'-'+_0x1eaf7d,'parent':config[_0x2cc4ee(0x209)][_0x12188a],'permissionOverwrites':_0x4bd66a,'reason':_0x2cc4ee(0x24a)+_0x2fbde9['user']['tag']});ticketChannels['set'](_0x2fbde9[_0x2cc4ee(0x1da)]['id'],{'channelId':_0x421501['id'],'type':_0x12188a}),await sendLog(_0x2cc4ee(0x219),_0x2fbde9[_0x2cc4ee(0x1da)],'**Typ:**\x20'+_0x1e229f+_0x2cc4ee(0x226)+_0x421501[_0x2cc4ee(0x1c2)]());const _0x141afe=new EmbedBuilder()[_0x2cc4ee(0x1ea)](config[_0x2cc4ee(0x22d)][_0x2cc4ee(0x201)][_0x2cc4ee(0x1bf)][_0x12188a])[_0x2cc4ee(0x1e0)]([_0x2cc4ee(0x24f)+_0x2fbde9[_0x2cc4ee(0x1da)]+',\x0a',_0x2cc4ee(0x1bb),_0x2cc4ee(0x1c1),_0x2cc4ee(0x1be),'>\x20'+_0x30cba8[_0x2cc4ee(0x214)](_0x10b272=>_0x2cc4ee(0x208)+_0x10b272+'>')[_0x2cc4ee(0x204)](_0x2cc4ee(0x1cf)),_0x2cc4ee(0x1f2),_0x2cc4ee(0x21e),'üôã‚ôÇÔ∏è\x20-\x20Ticket\x20√ºbernehmen'][_0x2cc4ee(0x204)]('\x0a'))[_0x2cc4ee(0x240)](config['embeds']['ticket'][_0x2cc4ee(0x1f0)])[_0x2cc4ee(0x20b)]({'text':config[_0x2cc4ee(0x22d)]['ticket'][_0x2cc4ee(0x1ec)]}),_0x5c2b5c=new ActionRowBuilder()[_0x2cc4ee(0x232)](new ButtonBuilder()[_0x2cc4ee(0x1e4)]('close_ticket')[_0x2cc4ee(0x1e3)](config[_0x2cc4ee(0x21d)]['close']['label'])[_0x2cc4ee(0x1c4)](ButtonStyle[config['buttons'][_0x2cc4ee(0x1c8)]['style']])['setEmoji'](config[_0x2cc4ee(0x21d)][_0x2cc4ee(0x1c8)][_0x2cc4ee(0x1ff)]),new ButtonBuilder()['setCustomId'](_0x2cc4ee(0x1fd))[_0x2cc4ee(0x1e3)](_0x2cc4ee(0x23b))['setStyle'](ButtonStyle['Success'])['setEmoji']('üôå'));await _0x421501['send']({'content':_0x2fbde9[_0x2cc4ee(0x1da)]+'\x20'+_0x30cba8['map'](_0x2fe0e3=>_0x2cc4ee(0x208)+_0x2fe0e3+'>')[_0x2cc4ee(0x204)]('\x20'),'embeds':[_0x141afe],'components':[_0x5c2b5c]}),await _0x2fbde9[_0x2cc4ee(0x252)]({'content':config[_0x2cc4ee(0x1d4)]['ticketCreated']+'\x20'+_0x421501,'ephemeral':!![]});}catch(_0x5944ee){console['error'](_0x2cc4ee(0x1bc),_0x5944ee),await _0x2fbde9['reply']({'content':_0x2cc4ee(0x1eb)+_0x5944ee[_0x2cc4ee(0x20c)],'ephemeral':!![]});}}function _0x463a(){const _0x138a27=['cache','username','channelId','Fehler\x20beim\x20Registrieren:','addOptions','user','login','ticket-panel','permissionOverwrites','channels','member','setDescription','1351635168108089364','MTMzNTI5NjA2NjI0NDk2ODQ0OA.GIdeNf.ns0d2XPAZJT7k60lwMe6O_SETG3soegvqZ3Y4g','setLabel','setCustomId','1351635370189787300','has','ticket_type','1351635331300196506','994500rzKeGF','setTitle','‚ùå\x20Fehler:\x20','footer','2VngekH','setPlaceholder','**Bearbeitet\x20von:**','color','clear','**Ticket-Optionen:**','description','Konnte\x20Kanal\x20','addFields','setEmoji','Fraktionsbewerbung','1335298631049281607','1351635227201507461','Schlie√üt\x20alle\x20aktiven\x20Tickets','claim','children','claim_ticket','isCommand','emoji','all','ticket','Fehler:','interactionCreate','join','1554944ODxEne','Guilds','Support','<@&','ticketCategories','memberPermissions','setFooter','message','Teambewerbung','@discordjs/rest','tag','ticketTypes','\x0a**√úbernommen\x20von:**\x20','discord.js','thumbnail','map','1335296066244968448','Secondary','üìù\x20Ticket\x20','length','create','√úbernommen','panel','log','buttons','üîí\x20-\x20Ticket\x20schlie√üen','1755896cqSlkL','noPermission','7tyZJCG','logs','title','ticketRoles','setThumbnail','\x0a**Kanal:**\x20','find','logChannelId','\x20hat\x20das\x20Ticket\x20√ºbernommen!','SendMessages','149189QAvIBt','guildId','embeds','roles','slice','values','from','addComponents','ManageMessages','Schlie√üen','\x20Tickets\x20geschlossen!','colors','send','commandName','categoryId','Fehler\x20beim\x20Schlie√üen\x20aller\x20Tickets:','√úbernehmen','entries','setDisabled','671430CCOvSw','isStringSelectMenu','setColor','close_ticket','890703GyhDbX','setToken','‚õî\x20Nur\x20Admins\x20k√∂nnen\x20alle\x20Tickets\x20schlie√üen!','toLowerCase','name','üõ†Ô∏è','token','‚ùå\x20Du\x20hast\x20bereits\x20ein\x20offenes\x20Ticket!','Ticket\x20erstellt\x20von\x20','üîí\x20Dein\x20Ticket\x20wurde\x20geschlossen!','users','‚ùå\x20Fehler\x20beim\x20Schlie√üen\x20der\x20Tickets!','get','Hallo\x20','Log-Kanal\x20nicht\x20gefunden!','customId','reply','1351635415014309960','Datum','error','‚úÖ\x20Erfolgreich\x20','887013aHlhzr','replace','\x0a**Geschlossen\x20von:**\x20','1335295708059795526','Ticket-Typ\x20ausw√§hlen','Bitte\x20beschreibe\x20dein\x20Anliegen\x20so\x20genau\x20wie\x20m√∂glich.','Fehler\x20beim\x20Ticket\x20erstellen:','type','**Zust√§ndiges\x20Team:**','titles','isArray','‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨‚ñ¨','toString','edit','setStyle','channel','**Ticket:**\x20','guild','close','‚ùå\x20Keine\x20Berechtigung!','\x20nicht\x20l√∂schen:','applicationGuildCommands','GuildMessages','ViewChannel','1335295708059795529','\x0a>\x20','MessageContent','toLocaleString','close-all-tickets','delete','messages'];_0x463a=function(){return _0x138a27;};return _0x463a();}async function handleCloseAllTickets(_0xcbfd14){const _0x357c19=_0x342681;if(!_0xcbfd14[_0x357c19(0x20a)][_0x357c19(0x1e6)](PermissionFlagsBits['Administrator']))return _0xcbfd14[_0x357c19(0x252)]({'content':_0x357c19(0x244),'ephemeral':!![]});const _0x52a918=_0xcbfd14[_0x357c19(0x1c7)][_0x357c19(0x1de)][_0x357c19(0x1d5)][_0x357c19(0x24e)](config[_0x357c19(0x239)]);if(!_0x52a918)return _0xcbfd14[_0x357c19(0x252)]('‚ùå\x20Ticket-Kategorie\x20nicht\x20gefunden!');try{const _0x531817=_0x52a918[_0x357c19(0x1fc)]['cache'];let _0x57434a=0x0;await Promise[_0x357c19(0x200)](_0x531817[_0x357c19(0x214)](async _0x7694e7=>{const _0x3bf74f=_0x357c19;try{await _0x7694e7[_0x3bf74f(0x1d3)](),_0x57434a++;}catch(_0x277ebf){console['error'](_0x3bf74f(0x1f4)+_0x7694e7[_0x3bf74f(0x246)]+_0x3bf74f(0x1ca),_0x277ebf);}})),ticketChannels[_0x357c19(0x1f1)](),await _0xcbfd14['reply']({'content':_0x357c19(0x256)+_0x57434a+_0x357c19(0x235),'ephemeral':!![]});}catch(_0x2d75c4){console[_0x357c19(0x255)](_0x357c19(0x23a),_0x2d75c4),await _0xcbfd14['reply']({'content':_0x357c19(0x24d),'ephemeral':!![]});}}async function handleTicketClaim(_0x57400d){const _0x53671a=_0x342681,_0x9690bd=Array[_0x53671a(0x231)](ticketChannels['values']())[_0x53671a(0x227)](_0x4018f5=>_0x4018f5[_0x53671a(0x1d7)]===_0x57400d[_0x53671a(0x1c5)]['id']);if(!_0x9690bd)return;const _0x200598=_0x57400d[_0x53671a(0x1df)],_0x2620ca=Array[_0x53671a(0x1c0)](config[_0x53671a(0x224)][_0x9690bd['type']])?config['ticketRoles'][_0x9690bd[_0x53671a(0x1bd)]]:[config[_0x53671a(0x224)][_0x9690bd[_0x53671a(0x1bd)]]],_0x346459=_0x2620ca['some'](_0x5aea62=>_0x200598[_0x53671a(0x22e)][_0x53671a(0x1d5)][_0x53671a(0x1e6)](_0x5aea62));if(!_0x346459)return _0x57400d[_0x53671a(0x252)]({'content':'‚ùå\x20Keine\x20Berechtigung!','ephemeral':!![]});await Promise['all'](_0x2620ca[_0x53671a(0x214)](async _0x420517=>{const _0x2d82f8=_0x53671a;await _0x57400d[_0x2d82f8(0x1c5)]['permissionOverwrites']['delete'](_0x420517);})),await _0x57400d[_0x53671a(0x1c5)][_0x53671a(0x1dd)]['create'](_0x200598['id'],{'ViewChannel':!![],'SendMessages':!![],'ManageMessages':!![]});const _0x227c82=EmbedBuilder['from'](_0x57400d[_0x53671a(0x20c)][_0x53671a(0x22d)][0x0])['spliceFields'](0x3,0x1,{'name':_0x53671a(0x1ef),'value':'>\x20'+_0x200598}),_0x3a3ecc=new ActionRowBuilder()[_0x53671a(0x232)](new ButtonBuilder()[_0x53671a(0x1e4)](_0x53671a(0x241))['setLabel'](_0x53671a(0x234))[_0x53671a(0x1c4)](ButtonStyle['Danger'])['setEmoji']('üîí'),new ButtonBuilder()[_0x53671a(0x1e4)](_0x53671a(0x1fd))[_0x53671a(0x1e3)](_0x53671a(0x21a))['setStyle'](ButtonStyle[_0x53671a(0x216)])[_0x53671a(0x23d)](!![])[_0x53671a(0x1f6)]('‚úÖ'));await _0x57400d['message'][_0x53671a(0x1c3)]({'embeds':[_0x227c82],'components':[_0x3a3ecc]}),await _0x57400d[_0x53671a(0x252)]({'content':'‚úÖ\x20'+_0x200598+_0x53671a(0x229)}),await sendLog(_0x53671a(0x1fb),_0x57400d[_0x53671a(0x1da)],'**Ticket:**\x20'+_0x57400d['channel'][_0x53671a(0x1c2)]()+_0x53671a(0x211)+_0x200598[_0x53671a(0x1c2)]());}async function handleTicketClose(_0x499ebd){const _0x1ea6d5=_0x342681,_0x12d800=Array[_0x1ea6d5(0x231)](ticketChannels[_0x1ea6d5(0x23c)]())[_0x1ea6d5(0x227)](([_0x1d6978,_0x45e718])=>_0x45e718[_0x1ea6d5(0x1d7)]===_0x499ebd['channel']['id']);if(!_0x12d800)return;const [_0x2edd02,_0x55e511]=_0x12d800;if(_0x499ebd[_0x1ea6d5(0x1da)]['id']!==_0x2edd02&&!_0x499ebd[_0x1ea6d5(0x1df)][_0x1ea6d5(0x22e)][_0x1ea6d5(0x1d5)][_0x1ea6d5(0x1e6)](config[_0x1ea6d5(0x224)][_0x55e511[_0x1ea6d5(0x1bd)]]))return _0x499ebd[_0x1ea6d5(0x252)]({'content':_0x1ea6d5(0x1c9),'ephemeral':!![]});await sendLog(_0x1ea6d5(0x1c8),_0x499ebd['user'],_0x1ea6d5(0x1c6)+_0x499ebd[_0x1ea6d5(0x1c5)]['name']+_0x1ea6d5(0x1b8)+_0x499ebd[_0x1ea6d5(0x1da)][_0x1ea6d5(0x20f)]),await _0x499ebd[_0x1ea6d5(0x1c5)]['delete'](),ticketChannels[_0x1ea6d5(0x1d3)](_0x2edd02);try{const _0x423a52=await client[_0x1ea6d5(0x24c)]['fetch'](_0x2edd02);await _0x423a52[_0x1ea6d5(0x237)](_0x1ea6d5(0x24b));}catch(_0x520bcf){console[_0x1ea6d5(0x255)]('Fehler\x20beim\x20Senden\x20der\x20DM:',_0x520bcf);}}client[_0x342681(0x1db)](config[_0x342681(0x248)]);